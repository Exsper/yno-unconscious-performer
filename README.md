# YNOproject Collective Unconscious Kalimba Performer

可以根据给定乐谱自动演奏乐曲。

**使用本脚本前，请确保游戏设置中卡林巴模式为“默认”！**

## 原理

使用原网页触屏按键提供的方法（simulateKeyboardInput）来模拟键盘输入，弹奏出指定的音符

本脚本不会对原网页函数、游戏内容或存档进行任何修改。

虽然可以模拟键盘输入，但仅限于演奏音符，完全没有自动移动或辅助跑图的功能。若脚本在运行中出现角色自主移动的现象，应该是没有打开钢琴窗。

## 乐谱

### 标准音符

每个音符以空格分开

每个音符固定为1/4拍

音调可用范围：C3~B5

0 为休止符

示例乐谱：

```text
F#4 A#3 0 0 F#4 A#3 0 0 F4 A#3 0 0 F4 A#3 0 0 F4 C#4 0 0 F4 C#4 0 0 C#4 A#3 0 0 C#4 A#3 0 0
BPM: 81.6
```

```text
A#4 0 0 G#4 C#5 0 A#4 0 0 0 0 G#4 C#5 0 0 A#4 A#4 0 0 G#4 C#5 0 A#4 0 0 0 A#4 0 C#5 0 G#5 0
BPM: 210
```

```text
G4 0 0 0 0 0 G4 0 A#4 0 G#4 G4 0 F4 0 0 D#4 0 0 0 0 0 D#4 0 F4 0 0 C4 0 0 D4 0 G3 0 0 0
BPM: 240
```

### JE谱

详见 [JE谱](https://madderscientist.github.io/je_score_operator/)

示例乐谱：

```text
2   (6)23 #4   6  33   #4  23   #4   2   (6)23 #4   6  33   #43  #4   
BPM: 300
```

```text
4 [1]    4 4    4 5    6#66   
4 [1]    4 4 [1]   [1 1]    [2 1]   
4 3    4 4    4 5    6 6   
4 3 4   5    1 6      5    
4 [1]    4 4    4 5    6#66   
4 [1]    4 4 [1]   [1 1]    [2 1]   
4 3    4 4    4 5    6 6   
4 3 4   5    1 6      5     
4    1 5   1  4   1  5   6   4       3      5 6      
BPM: 584
```

### MIDI

由于单键和音域的限制，只有符合要求的MIDI才可以顺利播放
